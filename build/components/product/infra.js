"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ProductRepository = void 0;

var _sequelize = require("sequelize");

var _domain = require("./domain");

const DATABASE_URL = process.env.DATABASE_URL || 'postgres://salamander:senhasenha@localhost:5432/salamanderdev';
const sequelizeOptions = {
  operatorsAliases: false
};
const sequelize = new _sequelize.Sequelize(DATABASE_URL, {
  sequelizeOptions
});
const ProductRepository = class ProductRepository {
  constructor({
    ProductModel
  }) {
    this.ProductModel = ProductModel;
  }

  async add(product) {
    const newProduct = await this.ProductModel.create({
      display_name: product.display_name,
      description: product.description,
      price: product.price
    });
    return new _domain.Product(newProduct);
  }

};
exports.ProductRepository = ProductRepository;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb21wb25lbnRzL3Byb2R1Y3QvaW5mcmEuanMiXSwibmFtZXMiOlsiREFUQUJBU0VfVVJMIiwicHJvY2VzcyIsImVudiIsInNlcXVlbGl6ZU9wdGlvbnMiLCJvcGVyYXRvcnNBbGlhc2VzIiwic2VxdWVsaXplIiwiU2VxdWVsaXplIiwiUHJvZHVjdFJlcG9zaXRvcnkiLCJjb25zdHJ1Y3RvciIsIlByb2R1Y3RNb2RlbCIsImFkZCIsInByb2R1Y3QiLCJuZXdQcm9kdWN0IiwiY3JlYXRlIiwiZGlzcGxheV9uYW1lIiwiZGVzY3JpcHRpb24iLCJwcmljZSIsIlByb2R1Y3QiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFFQSxNQUFNQSxZQUFZLEdBQUdDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRixZQUFaLElBQTRCLCtEQUFqRDtBQUNBLE1BQU1HLGdCQUFnQixHQUFHO0FBQUVDLEVBQUFBLGdCQUFnQixFQUFFO0FBQXBCLENBQXpCO0FBQ0EsTUFBTUMsU0FBUyxHQUFHLElBQUlDLG9CQUFKLENBQWNOLFlBQWQsRUFBNEI7QUFBRUcsRUFBQUE7QUFBRixDQUE1QixDQUFsQjtBQUVBLE1BQU1JLGlCQUFpQixHQUFHLE1BQU1BLGlCQUFOLENBQXdCO0FBQzlDQyxFQUFBQSxXQUFXLENBQUM7QUFBRUMsSUFBQUE7QUFBRixHQUFELEVBRVg7QUFDSSxTQUFLQSxZQUFMLEdBQW9CQSxZQUFwQjtBQUNIOztBQUVELFFBQU1DLEdBQU4sQ0FBVUMsT0FBVixFQUFrQjtBQUNkLFVBQU1DLFVBQVUsR0FBRyxNQUFNLEtBQUtILFlBQUwsQ0FBa0JJLE1BQWxCLENBQXlCO0FBQzlDQyxNQUFBQSxZQUFZLEVBQUVILE9BQU8sQ0FBQ0csWUFEd0I7QUFFOUNDLE1BQUFBLFdBQVcsRUFBRUosT0FBTyxDQUFDSSxXQUZ5QjtBQUc5Q0MsTUFBQUEsS0FBSyxFQUFFTCxPQUFPLENBQUNLO0FBSCtCLEtBQXpCLENBQXpCO0FBTUEsV0FBTyxJQUFJQyxlQUFKLENBQVlMLFVBQVosQ0FBUDtBQUNIOztBQWY2QyxDQUFsRCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNlcXVlbGl6ZSwgRGF0YVR5cGVzIH0gZnJvbSAnc2VxdWVsaXplJ1xyXG5pbXBvcnQgeyBQcm9kdWN0IH0gZnJvbSAnLi9kb21haW4nXHJcblxyXG5jb25zdCBEQVRBQkFTRV9VUkwgPSBwcm9jZXNzLmVudi5EQVRBQkFTRV9VUkwgfHwgJ3Bvc3RncmVzOi8vc2FsYW1hbmRlcjpzZW5oYXNlbmhhQGxvY2FsaG9zdDo1NDMyL3NhbGFtYW5kZXJkZXYnXHJcbmNvbnN0IHNlcXVlbGl6ZU9wdGlvbnMgPSB7IG9wZXJhdG9yc0FsaWFzZXM6IGZhbHNlIH1cclxuY29uc3Qgc2VxdWVsaXplID0gbmV3IFNlcXVlbGl6ZShEQVRBQkFTRV9VUkwsIHsgc2VxdWVsaXplT3B0aW9ucyB9KVxyXG5cclxuY29uc3QgUHJvZHVjdFJlcG9zaXRvcnkgPSBjbGFzcyBQcm9kdWN0UmVwb3NpdG9yeSB7XHJcbiAgICBjb25zdHJ1Y3Rvcih7IFByb2R1Y3RNb2RlbCB9KVxyXG5cclxuICAgIHtcclxuICAgICAgICB0aGlzLlByb2R1Y3RNb2RlbCA9IFByb2R1Y3RNb2RlbFxyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGFkZChwcm9kdWN0KXtcclxuICAgICAgICBjb25zdCBuZXdQcm9kdWN0ID0gYXdhaXQgdGhpcy5Qcm9kdWN0TW9kZWwuY3JlYXRlKHsgXHJcbiAgICAgICAgICAgIGRpc3BsYXlfbmFtZTogcHJvZHVjdC5kaXNwbGF5X25hbWUsXHJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBwcm9kdWN0LmRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICBwcmljZTogcHJvZHVjdC5wcmljZSAgICAgICAgICAgICBcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICByZXR1cm4gbmV3IFByb2R1Y3QobmV3UHJvZHVjdClcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHsgUHJvZHVjdFJlcG9zaXRvcnkgfVxyXG5cclxuIl19